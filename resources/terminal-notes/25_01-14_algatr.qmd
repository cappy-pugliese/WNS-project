---
title: "Algatr"
format: pdf
editor: visual
---

-   algatr help website: <https://thewanglab.github.io/algatr/>

-   algatr github: <https://github.com/TheWangLab/algatr_workshop>

```{r}

library(installr) install.packages.zip("https://cran.csiro.au/bin/macosx/big-sur-x86_64/contrib/4.5/wingen_2.2.0.tgz")


cp -R -i -n /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/library/ /Library/Frameworks/R.framework/Resources/library
```

\^ for installing packages using zip file from cran Installing it just using base r `install.packages` wasn't working for some reason, it was returning a 404 error page.

## Algatr Tutorial

```{r}
library(algatr)
# alazygatr_packages()
    # ^updates packages

#Warning message:
#In i.p(...) :
#  installation of package ‘/var/folders/5g/bpbtlbnn6n9_ptfrqwyy_wkh0000gn/T//RtmpsX4vU0/filea4c36bd44d75/RStoolbox_1.0.2.1.tar.gz’ had non-zero exit status

load_algatr_example()
plot(CA_env, col = turbo(100), axes = FALSE)

env <- scaleRGB(CA_env)
plotRGB(env, r = 1, g = 2, b = 3)

# Add sampling localities on top of this
points(liz_coords, pch = 19)

```

### Files needed:

-   `do_everything_for_me(liz_vcf, liz_coords, CA_env)`

-   vcf file, coordinate file (long=x, lat=y), and env file

-   env file

    -   rasterstack object (<https://rspatial.github.io/raster/reference/stack.html>)

    -   Example env file

        -   These were generated by performing a raster PCA on 19 bioclimatic variables (obtained from the World Clim database) and retaining the top 3 PCs

        -   We can combine all three PCs into a single map by scaling each of the rasters such that they each correspond to either R, G, or B using the [`scaleRGB()`](https://thewanglab.github.io/algatr/reference/scaleRGB.html) function and subsequently map using the `plotRGB()` function.

            ```{r}
            env <- scaleRGB(CA_env)
            plotRGB(env, r = 1, g = 2, b = 3)
            ```