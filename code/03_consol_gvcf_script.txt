#!/bin/bash
#SBATCH --job-name=Consol_GVCF
#SBATCH -N 1
#SBATCH -n 1
#SBATCH -c 5
#SBATCH --mem=50G
#SBATCH --partition=general
#SBATCH --qos=general
#SBATCH --mail-type=ALL
#SBATCH --mail-user=caprina.pugliese@uconn.edu
#SBATCH -o %x_%j.out
#SBATCH -e %x_%j.err

########### script start

hostname
date

## load modules
module load GATK/4.3.0.0
module load parallel/20180122

#### point to paths
INDIR=/home/FCAM/cpugliese/wns-lab/gvcfs/01_haplotypecaller/01_run_all_bams
OUTDIR=/home/FCAM/cpugliese/wns-lab/gvcfs/02_consolidate-gvcfs

cd $OUTDIR
gatk --java-options "-Xmx4g -Xms4g" \
       GenomicsDBImport \
       --genomicsdb-workspace-path $INDIR \
       --sample-name-map $INDIR/Pd_sample_map.txt \
       --reader-threads 5
       
########### script end